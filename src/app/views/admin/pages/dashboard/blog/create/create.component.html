<app-load [isLoading]="loading"></app-load>
<div class="app-content content ">
    <div class="content-overlay"></div>
    <div class="header-navbar-shadow"></div>
    <div class="content-wrapper container-xxl p-0">
        <div class="content-header row">
        </div>
        <div class="content-body">
            <!-- users edit start -->
            <section class="app-product-edit">
                <div class="card">
                    <div class="card-body">
                        <ul class="nav nav-pills" role="tablist">
                            <h2 class="pl-0">Blog</h2>
                        </ul>
                        <div class="tab-content">
                            <!-- Product Tab starts -->
                            <div class="tab-pane active" id="product" aria-labelledby="product-tab" role="tabpanel">
                                <form class="form-validate" [formGroup]="formBlog">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-1">
                                                <label class="form-label" for="blogName">Food Name</label>
                                                <input type="text" class="form-control" placeholder="Blog Name"
                                                    formControlName="name" id="blogName" />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="mb-1">
                                                <label class="form-label">Category</label>
                                                <mat-form-field appearance="fill" class="w-100">
                                                    <mat-label>Select</mat-label>
                                                    <mat-select formControlName="category">
                                                        <mat-option *ngFor="let i of listCategory" [value]="i">{{i}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <label class="form-label">Hashtag</label>
                                            <mat-form-field appearance="fill" class="w-100">
                                                <mat-label>Select</mat-label>
                                                <mat-select placeholder="hashtags" name="hashtag" class="filter-select"
                                                    [(ngModel)]="selectedHastags" [compareWith]="equals" multiple
                                                    formControlName="hashTag" #hashtagSelect>
                                                    <mat-option *ngFor="let hashtag of hastags" [value]="hashtag">
                                                        {{hashtag.viewValue}}
                                                    </mat-option>
                                                    <mat-option disabled="disabled" class="filter-option">
                                                        <button mat-button class="mat-primary fill text-sm"
                                                            (click)="selectAll(hashtagSelect, hastags, selectedHastags)">Select
                                                            All
                                                        </button>
                                                        <button mat-button class="mat-accent fill text-sm"
                                                            (click)="deselectAll(hashtagSelect)">
                                                            Deselect All
                                                        </button>
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="mb-1 row mx-0">
                                            <div class="col-md-6 p-0">
                                                <label class="form-label" for="summary">Summary</label>
                                                <textarea type="text" rows="3" class="form-control"
                                                    formControlName="summary" id="summary"></textarea>
                                            </div>
                                            <div class="col-md-6 d-flex p-0">
                                                <div class="col-sm-6 align-self-end">
                                                    <div action="#" class="dropzone dropzone-area dz-clickable"
                                                        id="dpz-single-file">
                                                        <label class="dz-message" for="avatar">Avatar</label>
                                                        <input type="file" hidden id="avatar"
                                                            (change)="updateFile($event, 1)">
                                                        <img [src]="avatar" alt="avatar" *ngIf="avatar"
                                                            class="img-avatar">
                                                    </div>
                                                </div>
                                                <div class="col-sm-6 align-self-end">
                                                    <div action="#" class="dropzone dropzone-area dz-clickable"
                                                        id="dpz-single-file-coverr">
                                                        <label class="dz-message" for="avatar_cover">Avatar
                                                            cover</label>
                                                        <input type="file" hidden id="avatar_cover"
                                                            (change)="updateFile($event, 0)">
                                                        <img [src]="avatar_cover" alt="avatar cover"
                                                            *ngIf="avatar_cover" class="img-avatar">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-1">
                                            <label class="form-label" for="url_youtube">url
                                                youtube
                                                <span>
                                                    <a href="https://www.youtube.com/" target="_blank">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                            class="feather feather-link-2">
                                                            <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3">
                                                            </path>
                                                            <line x1="8" y1="12" x2="16" y2="12"></line>
                                                        </svg>
                                                    </a>
                                                </span>
                                            </label>
                                            <input type="text" class="form-control" placeholder="url youtube" formControlName="url_video_utube"
                                                id="url_youtube" />
                                        </div>
                                        <div class="mb-1">
                                            <label class="form-label" for="cooking_time">
                                                cooking time
                                            </label>
                                            <input type="number" class="form-control" formControlName="cooking_time" id="cooking_time"  />
                                        </div>
                                        <!-- Metarial -->
                                        <fieldset>
                                            <legend (click)="metarialC.toggle()"
                                                [attr.aria-expanded]="!isCollapsed.metarial"
                                                aria-controls="collapseExample">Metarial</legend>
                                            <div #metarialC="ngbCollapse" [(ngbCollapse)]="isCollapsed.metarial">
                                                <ng-container formArrayName="metarial">
                                                    <div class="col-12 p-0 box-metarial"
                                                        *ngFor="let item of listMetarial(); let i = index"
                                                        [formGroupName]="i">
                                                        <h2 class="h2_title">
                                                            <button mat-button class="btn-trash"
                                                                (click)="removeContent(i)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-trash-2">
                                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                                    <path
                                                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                                    </path>
                                                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                                                </svg>
                                                            </button>
                                                        </h2>
                                                        <div class="row m-0">
                                                            <div class="col-md-6">
                                                                <div class="mb-1">
                                                                    <label class="form-label" for="price">Name</label>
                                                                    <input type="text" class="form-control"
                                                                        placeholder="milk" formControlName="name"
                                                                        id="ration" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 d-flex">
                                                                <div class="col-6 mb-1 px-2">
                                                                    <label class="form-label"
                                                                        for="price">Content</label>
                                                                    <input type="number" class="form-control"
                                                                        placeholder="50g" formControlName="content"
                                                                        id="content" />
                                                                </div>
                                                                <div class="col-6 mb-1 px-2">
                                                                    <label class="form-label" for="price">unit</label>
                                                                    <mat-form-field appearance="fill" class="w-100">
                                                                        <mat-label>Select</mat-label>
                                                                        <mat-select formControlName="unit">
                                                                            <mat-option *ngFor="let i of listUnit"
                                                                                [value]="i">
                                                                                {{i}}
                                                                            </mat-option>
                                                                        </mat-select>
                                                                    </mat-form-field>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-1">
                                                        <button mat-stroked-button (click)="addMetarial()">
                                                            Add new metarial <sup>
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-plus">
                                                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                                                </svg>
                                                            </sup>
                                                        </button>
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </fieldset>
                                        <!-- Step by Step -->
                                        <fieldset>
                                            <legend (click)="stepC.toggle()" [attr.aria-expanded]="!isCollapsed.step"
                                                aria-controls="collapseExample">
                                                Step</legend>
                                            <div #stepC="ngbCollapse" [(ngbCollapse)]="isCollapsed.step">
                                                <ng-container formArrayName="step">
                                                    <div class="col-md-12 box-step"
                                                        *ngFor="let item of listStep(); let i = index"
                                                        [formGroupName]="i">
                                                        <h2 class="h2_title">
                                                            <button mat-button class="btn-trash"
                                                                (click)="removeContent(i)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-trash-2">
                                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                                    <path
                                                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                                    </path>
                                                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                                                </svg>
                                                            </button>
                                                        </h2>
                                                        <div class="mb-1">
                                                            <label class="form-label" [for]="'step_name'+i">name</label>
                                                            <input type="text" class="form-control" placeholder="Step1"
                                                                [id]="'step_name'+i" formControlName="name" />
                                                        </div>
                                                        <div class="mb-1 row mx-0">
                                                            <div class="col-md-6 p-0">
                                                                <label class="form-label"
                                                                    [for]="'step_des'+i">description</label>
                                                                <textarea type="text" rows="3" class="form-control"
                                                                    name="description" [id]="'step_des'+i"
                                                                    formControlName="description"></textarea>
                                                            </div>
                                                            <div class="col-md-6 p-0">
                                                                <label class="form-label"
                                                                    [for]="'step_name'+i">Banner</label>
                                                                <div class="col-sm-12 mb-1">
                                                                    <div action="#"
                                                                        class="dropzone dropzone-area dz-clickable"
                                                                        id="dpz-single-file">
                                                                        <label class="dz-message notBefore"
                                                                            [for]="'step_avatar'+i">Select
                                                                            banner</label>
                                                                        <input type="file" hidden [id]="'step_avatar'+i"
                                                                            (change)="updateListFile($event, i, 1)">
                                                                        <img [src]="item.value.avatar" alt="avatar"
                                                                            *ngIf="item.value.avatar"
                                                                            class="img-avatar">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-1">
                                                        <button mat-stroked-button (click)="addStep()">
                                                            Add new step <sup>
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-plus">
                                                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                                                </svg>
                                                            </sup>
                                                        </button>
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </fieldset>
                                        <!-- Content orther -->
                                        <fieldset>
                                            <legend (click)="contentC.toggle()"
                                                [attr.aria-expanded]="!isCollapsed.content"
                                                aria-controls="collapseExample">Content orther</legend>
                                            <div #contentC="ngbCollapse" [(ngbCollapse)]="isCollapsed.content">
                                                <ng-container formArrayName="content">
                                                    <div class="col-md-12 box-content"
                                                        *ngFor="let item of listContent(); let i = index"
                                                        [formGroupName]="i">
                                                        <h2 class="h2_title">
                                                            <button mat-button class="btn-trash"
                                                                (click)="removeContent(i)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-trash-2">
                                                                    <polyline points="3 6 5 6 21 6"></polyline>
                                                                    <path
                                                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                                    </path>
                                                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                                                </svg>
                                                            </button>
                                                        </h2>
                                                        <div class="mb-1">
                                                            <label class="form-label"
                                                                [for]="'content_title'+i">name</label>
                                                            <input type="text" class="form-control" placeholder="Ration"
                                                                name="ration" [id]="'content_title'+i"
                                                                formControlName="title" />
                                                        </div>
                                                        <div class="mb-1">
                                                            <label class="form-label"
                                                                [for]="'content_des'+i">description</label>
                                                            <textarea type="text" rows="3" class="form-control"
                                                                name="description" [id]="'content_des'+i"
                                                                formControlName="description"></textarea>
                                                        </div>
                                                        <div class="mb-1">
                                                            <label class="form-label"
                                                                [for]="'content_title'+i">Banner</label>
                                                            <div class="d-flex justify-content-around">
                                                                <div class="col-sm-6">
                                                                    <div action="#"
                                                                        class="dropzone dropzone-area dz-clickable"
                                                                        id="dpz-single-file">
                                                                        <label class="dz-message"
                                                                            [for]="'content_avatar'+i"
                                                                            for="avatar">Avatar</label>
                                                                        <input type="file" hidden
                                                                            [id]="'content_avatar'+i"
                                                                            (change)="updateListFile($event, i, 0, 0)">
                                                                        <img [src]="item.value.avatar" alt="avatar"
                                                                            *ngIf="item.value.avatar"
                                                                            class="img-avatar">
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-6">
                                                                    <div action="#"
                                                                        class="dropzone dropzone-area dz-clickable"
                                                                        id="dpz-single-file">
                                                                        <label class="dz-message"
                                                                            [for]="'content_avatar_cover'+i">Avatar
                                                                            cover</label>
                                                                        <input type="file" hidden
                                                                            [id]="'content_avatar_cover'+i"
                                                                            (change)="updateListFile($event, i, 0, 1)">
                                                                        <img [src]="item.value.avatar_cover"
                                                                            alt="avatar cover"
                                                                            *ngIf="item.value.avatar_cover"
                                                                            class="img-avatar">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-1">
                                                        <button mat-stroked-button (click)="addContent()">
                                                            Add new content <sup>
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                                                    height="24" viewBox="0 0 24 24" fill="none"
                                                                    stroke="currentColor" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="feather feather-plus">
                                                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                                                </svg>
                                                            </sup>
                                                        </button>
                                                    </div>
                                                </ng-container>
                                            </div>

                                        </fieldset>

                                        <div class="col-md-12">
                                            <div class="mb-1">
                                                <label class="form-label" for="des">The end</label>
                                                <textarea type="text" rows="3" class="form-control"
                                                    formControlName="description" id="des"></textarea>
                                            </div>
                                        </div>

                                        <div class="col-12 d-flex flex-sm-row flex-column mt-2">
                                            <button type="submit"
                                                class="btn btn-primary mb-1 mb-sm-0 me-0 me-sm-1 waves-effect waves-float waves-light"
                                                (click)="createBlog()">Save
                                                </button>
                                        </div>
                                    </div>
                                </form>
                                <!-- users edit account form ends -->
                            </div>
                            <!-- Product Tab ends -->
                        </div>
                    </div>
                </div>
            </section>
            <!-- END: Content-->
        </div>
    </div>
</div>

<!-- BEGIN: Customizer-->
<div class="customizer d-none d-md-block"><a class="customizer-toggle d-flex align-items-center justify-content-center"
        href="javascript:void(0)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="feather feather-eye">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
        </svg></a>
</div>
<!-- End: Customizer-->