<app-load [isLoading]="loading"></app-load>

<div class="content-block post-header-inheader post-sidebar-disable mb-5">
  <div class="container w-100 container-page-item-title with-bg"
       [ngStyle]="{'background-image': 'url(' + 'data:image/png;base64,' + blog?.banner_img + ')'}">
    <div class="row">
      <div class="col-md-12 col-overlay">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="page-item-title-single">
                <div class="cookandmeal-post-single cookandmeal-post">
                  <div class="post-categories">
                    <a *ngFor="let item of blog?.hash_tags"
                       href="javascript:void(0)" style="background-color: #e5a484;">
                      <i class="fa fa-tag cat-dot"></i><span class="cat-title">{{item}}</span>
                    </a>
                  </div>
                  <div class="cookandmeal-post-details">

                    <h1 class="post-title entry-title">{{blog?.summary}}</h1>
                    <div class="post-date">
                      <span class="entry-date published updated mr-2">
                        {{
                                                blog?.create_at | date:"yyyy/MM/dd"
                        }}
                      </span>
                    </div>
                    <div class="post-read-time" *ngIf="blog?.cooking_time">
                      <i class="fa fa-clock-o"
                         aria-hidden="true"></i>{{blog?.cooking_time}}
                    </div>
                    <div class="post-details-bottom post-details-bottom-inline">

                      <div class="post-info-wrapper">
                        <div class="post-info-comments">
                          <i class="fa fa-comment-o"
                             aria-hidden="true"></i><a href="javascript:void(0)">0</a>
                        </div>

                        <div class="post-info-views">
                          <i class="fa fa-eye"
                             aria-hidden="true"></i>{{blog?.view}}
                        </div>
                        <div class="post-info-likes">
                          <a href="javascript:void(0)"
                             class="post-like-button" data-id="378">
                            <i class="fa fa-heart-o"
                               aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>

                      <div class="post-info-share">
                        <div class="post-social-wrapper">
                          <div class="post-social-title">
                            <span class="post-social-title-text">Share</span>
                          </div>
                          <div class="post-social-frame">
                            <div class="post-social">
                              <a title="Share with Facebook" href="https://facebook.com/"
                                 class="facebook-share">
                                <i class="fa fa-facebook"></i>
                              </a><a title="Tweet this"
                                     href="https://facebook.com/" class="twitter-share">
                                <i class="fa fa-twitter"></i>
                              </a><a title="Share with LinkedIn" href="https://facebook.com/"
                                     class="linkedin-share">
                                <i class="fa fa-linkedin"></i>
                              </a><a title="Pin this"
                                     href="https://facebook.com/" class="pinterest-share">
                                <i class="fa fa-pinterest"></i>
                              </a>
                            </div>
                          </div>
                          <div class="clear"></div>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="post-container container span-col-md-12 post-single-content">
    <div class="row">
      <div class="col-md-12 post-single-content">
        <div class="blog-post blog-post-single hentry clearfix">
          <article id="post-378"
                   class="post-378 post type-post status-publish format-standard has-post-thumbnail category-pasta tag-baking tag-easy tag-food tag-recipe"
                   role="main">
            <div class="post-content-wrapper">
              <div class="post-content clearfix">

                <div class="entry-content">
                  <h2><strong>Summary</strong></h2>
                  <div class="avatar me-50">
                    <img [src]="'data:image/png;base64,' + blog?.cover_img" alt="Avatar" width="24" height="24">
                  </div>
                  <p class="has-medium-font-size">{{blog?.summary}}</p>
                  <h2><strong>Description</strong></h2>
                  <p class="has-medium-font-size">{{blog?.description}}</p>
                  <h2><strong>Step by step</strong></h2>
                  <p>{{blog?.steps}}</p>
                  <h2><strong>Metarial</strong></h2>
                  <div class="ecommerce-application">
                    <section id="ecommerce-products" class="grid-view">
                      <div class="card ecommerce-card" *ngFor="let p of blog.materials">
                        <div class="item-img text-center">
                          <a [routerLink]="['/product/update', {id: p.id}]">
                            <img class="img-fluid card-img-top"
                                 [src]="p.banner_img"
                                 alt="banner" />
                          </a>
                        </div>
                        <div class="card-body">
                          <div class="item-wrapper">
                            <div>
                              <h6 class="item-price sale">${{p.price}} <span class="ml-3" *ngIf="p.sale || p.sale != 0">{{'Sale ' + p.sale + '%'}}</span></h6>
                            </div>
                          </div>
                          <h6 class="item-name">
                            <a class="text-body" [routerLink]="['/product/update', {id: p.id}]">{{p.name}}</a>
                          </h6>
                          <ul class="card-text item-list__infor">
                            <li class="item">
                              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye"
                                   viewBox="0 0 16 16">
                                <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
                                <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
                              </svg>
                              {{p.view}}
                              <span class="icon-menu__box float-end" [matMenuTriggerFor]="menu">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                     class="feather feather-more-vertical">
                                  <circle cx="12" cy="12" r="1"></circle>
                                  <circle cx="12" cy="5" r="1"></circle>
                                  <circle cx="12" cy="19" r="1"></circle>
                                </svg>
                              </span>
                              <mat-menu #menu="matMenu">
                                <a mat-menu-item [routerLink]="['/product/update/', {id: p.id}]">Update</a>
                                <button mat-menu-item (click)="deleteProduct(p.id)">Delete</button>
                              </mat-menu>
                            </li>
                            <li class="item">Number of purchases: {{p.revenue}}</li>

                            <li class="item">update time: {{p.update_at | date:"dd/MM/yyyy"}}</li>
                            <li class="item">create time: {{p.create_at | date:"dd/MM/yyyy"}}</li>
                          </ul>
                        </div>
                      </div>
                    </section>
                  </div>
                  <h2><strong>Metarial Orther</strong></h2>
                  <ul clsas="list-style-none">
                    <li *ngFor="let item of blog?.otherMaterials">
                      {{item}}
                    </li>
                  </ul>
                  <!-- <ng-container *ngFor="let item of blog?.content">
                  <h2>{{item.name
                                  }}</h2>
                                  <hr class="wp-block-separator is-style-wide">
                                  <p>{{item.content}}</p>
                                  <hr class="wp-block-separator is-style-dots">
                                  <div class="wp-block-cover alignwide has-background-dim has-parallax is-position-center-center"
                                       [ngStyle]="{'background-image': 'url(' + item?.banner_img + ')'}">
                                  </div>
                                  </ng-container> -->
                  <!-- <h2>Special ingredients</h2> -->
                  <!-- <hr class="wp-block-separator is-style-wide"> -->
                  <!-- <ul>
                      <li *ngIf="let item of blog?.metarial">
                          {{item.mass}}&nbsp;{{item.unit}}&nbsp;{{item?.title}}</li>
                  </ul> -->
                  <!-- <p>Looking for other egg-based savory recipes? Try these:</p>

                  <p>Once you prep your ingredients, you’re ready to bake! Here’s what you need to do:
                  </p> -->

                </div>

                <div class="cookandmeal-social-share-fixed sidebar-position-disable"
                     style="position: absolute; bottom: auto; top: 0px; margin-top: 0px; opacity: 1;">
                  <div class="post-social-wrapper">
                    <div class="post-social-title">
                      <span class="post-social-title-text">Share</span>
                    </div>

                    <div class="clear"></div>
                  </div>
                </div>
              </div>
              <a href="{{blog?.url_video_youtube}}" target="_blank" *ngIf="blog?.url_video_youtube">
                Watch
                tutorials on youtube
              </a>
              <div class="cookandmeal-post cookandmeal-post-bottom">
                <div class="post-details-bottom post-details-bottom-single">

                  <div class="post-info-wrapper">
                    <div class="post-info-comments">
                      <i class="fa fa-comment-o"
                         aria-hidden="true"></i><a href="javascript:void(0)">0</a>
                    </div>

                    <div class="post-info-views">
                      <i class="fa fa-eye"
                         aria-hidden="true"></i>{{blog?.view}}
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </article>
          <!-- <div class="post-recipe-block with-bg" id="post-recipe-block" vocab="https://schema.org/"
              typeof="Recipe"> -->
          <!-- <div class="post-recipe-details">
                  <div class="post-recipe-details-column">
                      <h4>Ingredients</h4>
                      <ul>
                          <li *ngFor="let item of blog?.metarial">
                              <i class="fa fa-check" aria-hidden="true"></i>
                              <p property="recipeIngredient">
                                  {{item.mass}}&nbsp;{{item.unit}}&nbsp;{{item?.title}}</p>
                          </li>
                      </ul>

                  </div>
              </div> -->
          <!-- <div class="post-recipe-instructions-group">
                  <h4>Instructions</h4>
                  <p>{{blog?.steps}}</p> -->
          <!-- <div class="post-recipe-instruction" *ngFor="let item of blog?.step; let i = index">
                      <div class="post-recipe-step">{{i + 1}}</div>
                      <div class="post-recipe-instruction-content">
                          <div class="post-recipe-instruction-title">
                              <h4 property="recipeInstructions">{{item.name}}</h4>
                          </div>
                          <div class="post-recipe-instruction-text" property="recipeInstructions">
                              {{item.description}}</div>
                      </div>
                  </div> -->
          <!-- <div class="post-recipe-instruction">
                      <div class="post-recipe-step">2</div>
                      <div class="post-recipe-instruction-content">
                          <div class="post-recipe-instruction-title">
                              <h4 property="recipeInstructions">Next step - preparation!</h4>
                          </div>
                          <div class="post-recipe-instruction-text" property="recipeInstructions">Remove the
                              top 1/3 of the bread and then pull out some of the insides to create space for
                              the eggs, being careful not to remove all of the bread, you want a thick layer
                              of bread for your boat. Rub the inside of the bread with olive oil and
                              everything bagel spice or salt and pepper. Bake for 8-10 minutes or until the
                              bread is toasted.
                          </div>
                      </div>
                  </div>
                  <div class="post-recipe-instruction">
                      <div class="post-recipe-step">3</div>
                      <div class="post-recipe-instruction-content">
                          <div class="post-recipe-instruction-title">
                              <h4 property="recipeInstructions">And now!</h4>
                          </div>
                          <div class="post-recipe-instruction-text" property="recipeInstructions">Meanwhile,
                              whisk together the eggs, milk, and a pinch each of salt, pepper, and red pepper
                              flakes. Stir in the chives, spinach, and havarti.
                          </div>
                      </div>
                  </div>
                  <div class="post-recipe-instruction">
                      <div class="post-recipe-step">4</div>
                      <div class="post-recipe-instruction-content">
                          <div class="post-recipe-instruction-title">
                              <h4 property="recipeInstructions">Final</h4>
                          </div>
                          <div class="post-recipe-instruction-text" property="recipeInstructions">Sprinkle the
                              bottom of the bread with 1/2 cup cheddar, then drizzle over the pesto. Slowly
                              pour in the eggs, allow the mix to sink into the boat. Top with the remaining
                              cheddar. Bake 30-35 minutes, until just set in the center.
                          </div>
                      </div>
                  </div> -->
          <!-- </div> -->
          <!-- <div class="post-recipe-notes">
                  <h4>Notes</h4>
                  Kid-Friendly Adaptation: Cook the chicken in broth instead of buffalo sauce. Shred and drain
                  off excess liquid. Put some of the chicken aside for the kiddos (plain, no sauce) and toss
                  the remaining chicken with the buffalo sauce before you broil it.
              </div> -->
          <!-- </div> -->
          <!-- <hr class="wp-block-separator is-style-wide"> -->

        </div>

      </div>

    </div>
  </div>
  <div class="nav-post nav-post-next cookandmeal-post">
    <a [routerLink]="['/page-profile/detail/' + blog?.user_id]">
      <div class="nav-post-button-title me-1">
        Visit the author<i class="fa fa-arrow-right" aria-hidden="true"></i>
      </div>
    </a>
  </div>
  <div class="col-12 mt-1" id="blogComment">
    <h6 class="section-label mt-25">Comment</h6>
    <div class="card">
      <div class="card-body">
        <div class="d-flex align-items-start mb-2" *ngFor="let item of blog?.comments; let i = index">
          <div class="avatar me-75">
            <img [src]="item.user_avatar ? 'data:image/png;base64,' + item.user_avatar : 'assets/images/avatars/default-avatar.jpg'"
                 alt="avatar" width="38" height="38" alt="Avatar">
          </div>
          <div class="author-info">
            <h6 class="fw-bolder mb-25">{{item.user_name}}</h6>
            <p class="card-text">{{item.createdDate | date:"yyyy-MM-dd"}}</p>
            <p class="card-text">
              {{item.description}}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
